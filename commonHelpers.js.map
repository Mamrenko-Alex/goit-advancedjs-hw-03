{"version":3,"file":"commonHelpers.js","sources":["../src/cat-api.js","../src/index.js"],"sourcesContent":["import axios from \"axios\";\n\naxios.defaults.headers.common[\"x-api-key\"] = 'live_tTd2DeRlMjmrwT0GvEPrcbWJhw1aaGd3xLGjpt1jvcgogKWXbIOuJRg3sms8DZoD';\n\n// Функція для наповнення селекту варіантами\nexport function fetchBreeds() {\n    return new Promise((resolve, reject) => {\n        fetch('https://api.thecatapi.com/v1/breeds')\n            .then(response => {\n                if (!response.ok) {\n                    throw new Error('Network response was not ok');\n                }\n                return response.json();\n            })\n            .then(data => {\n                const breeds = data.map(breed => ({ id: breed.id, name: breed.name }));\n                resolve(breeds);\n            })\n            .catch(error => {\n                reject(error)\n            });\n    });\n};\n\n// Функція для виконання HTTP-запиту за інформацією про кота за ідентифікатором породи\nexport function fetchCatByBreed(breedId) {\n    return new Promise((resolve, reject) => {\n        axios.get(`https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}`)\n            .then(response => {\n                resolve(response.data[0]);\n            })\n            .catch(error => {\n            reject(error);\n            });\n        });\n}\n","import { fetchBreeds, fetchCatByBreed } from \"./cat-api\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst elements = {\n    breedSelect: document.querySelector('.breed-select'),\n    loaderText: document.querySelector('.loader'),\n    errorText: document.querySelector('.error'),\n    catInfoSection: document.querySelector('.cat-info'),\n    refreshButton: document.querySelector('.refresh-button'),\n}\n\nelements.refreshButton.style.display = 'none';\n\nfetchBreeds()\n    .then(breeds => {\n        // elements.loaderText.style.display = 'block';\n        breeds.forEach(breed => {\n            const option = document.createElement('option');\n            option.value = breed.id;\n            option.text = breed.name;\n            elements.breedSelect.appendChild(option);\n        });\n        elements.loaderText.style.display = 'none';\n        elements.breedSelect.style.display = 'block';\n    })\n    .catch(error => {\n        console.error('Error fetching breeds:', error)\n        elements.loaderText.style.display = 'none';\n        elements.breedSelect.style.display = 'none';\n        iziToast.error({\n          error: 'Error',\n          title: `Error`,\n          message: `❌ Oops! Something went wrong! Try reloading the page!`,\n        })\n        elements.refreshButton.style.display = 'block';\n    });\n\nelements.breedSelect.addEventListener('change', clickHandler)\n\nfunction clickHandler() {\n    const selectedId = elements.breedSelect.value;\n    elements.loaderText.style.display = 'block';\n    elements.catInfoSection.style.display = 'none';\n    elements.breedSelect.style.display = 'none';\n\n    fetchCatByBreed(selectedId)\n        .then(data => {\n            const catInfo = data.breeds[0];\n            elements.catInfoSection.innerHTML = `\n            <img src=\"${data.url}\" alt=\"${catInfo.name}\" class=\"cat-img\" width=\"450px\" />\n            <div class=\"cat-info-accent\">\n                <h2>${catInfo.name}</h2>\n                <p>${catInfo.description}</p>\n                <p><strong>Temperament:</strong> ${catInfo.temperament}</p>\n                <a href=\"${catInfo.wikipedia_url}\" target=\"_blank\" class=\"more-info-button\">Read more</a>\n            </div>\n            `\n            elements.loaderText.style.display = 'none';\n            elements.catInfoSection.style.display = 'flex';\n            elements.breedSelect.style.display = 'block';\n        })\n        .catch(error => {\n            console.error('Error fetching breeds:', error)\n            elements.loaderText.style.display = 'none';\n            elements.breedSelect.style.display = 'none';\n            iziToast.error({\n                error: 'Error',\n                title: `Error`,\n                message: `❌ Oops! Something went wrong! Try reloading the page!`,\n            })\n            elements.refreshButton.style.display = 'block';\n        })\n};\n"],"names":["axios","fetchBreeds","resolve","reject","response","data","breeds","breed","error","fetchCatByBreed","breedId","elements","option","iziToast","clickHandler","selectedId","catInfo"],"mappings":"6vBAEAA,EAAM,SAAS,QAAQ,OAAO,aAAe,wEAGtC,SAASC,GAAc,CAC1B,OAAO,IAAI,QAAQ,CAACC,EAASC,IAAW,CACpC,MAAM,qCAAqC,EACtC,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAM,6BAA6B,EAEjD,OAAOA,EAAS,MAChC,CAAa,EACA,KAAKC,GAAQ,CACV,MAAMC,EAASD,EAAK,IAAIE,IAAU,CAAE,GAAIA,EAAM,GAAI,KAAMA,EAAM,IAAI,EAAG,EACrEL,EAAQI,CAAM,CAC9B,CAAa,EACA,MAAME,GAAS,CACZL,EAAOK,CAAK,CAC5B,CAAa,CACb,CAAK,CACL,CAGO,SAASC,EAAgBC,EAAS,CACrC,OAAO,IAAI,QAAQ,CAACR,EAASC,IAAW,CACpCH,EAAM,IAAI,wDAAwDU,GAAS,EACtE,KAAKN,GAAY,CACdF,EAAQE,EAAS,KAAK,EAAE,CACxC,CAAa,EACA,MAAMI,GAAS,CAChBL,EAAOK,CAAK,CACxB,CAAa,CACb,CAAS,CACT,CC/BA,MAAMG,EAAW,CACb,YAAa,SAAS,cAAc,eAAe,EACnD,WAAY,SAAS,cAAc,SAAS,EAC5C,UAAW,SAAS,cAAc,QAAQ,EAC1C,eAAgB,SAAS,cAAc,WAAW,EAClD,cAAe,SAAS,cAAc,iBAAiB,CAC3D,EAEAA,EAAS,cAAc,MAAM,QAAU,OAEvCV,EAAa,EACR,KAAKK,GAAU,CAEZA,EAAO,QAAQC,GAAS,CACpB,MAAMK,EAAS,SAAS,cAAc,QAAQ,EAC9CA,EAAO,MAAQL,EAAM,GACrBK,EAAO,KAAOL,EAAM,KACpBI,EAAS,YAAY,YAAYC,CAAM,CACnD,CAAS,EACDD,EAAS,WAAW,MAAM,QAAU,OACpCA,EAAS,YAAY,MAAM,QAAU,OAC7C,CAAK,EACA,MAAMH,GAAS,CACZ,QAAQ,MAAM,yBAA0BA,CAAK,EAC7CG,EAAS,WAAW,MAAM,QAAU,OACpCA,EAAS,YAAY,MAAM,QAAU,OACrCE,EAAS,MAAM,CACb,MAAO,QACP,MAAO,QACP,QAAS,uDACnB,CAAS,EACDF,EAAS,cAAc,MAAM,QAAU,OAC/C,CAAK,EAELA,EAAS,YAAY,iBAAiB,SAAUG,CAAY,EAE5D,SAASA,GAAe,CACpB,MAAMC,EAAaJ,EAAS,YAAY,MACxCA,EAAS,WAAW,MAAM,QAAU,QACpCA,EAAS,eAAe,MAAM,QAAU,OACxCA,EAAS,YAAY,MAAM,QAAU,OAErCF,EAAgBM,CAAU,EACrB,KAAKV,GAAQ,CACV,MAAMW,EAAUX,EAAK,OAAO,GAC5BM,EAAS,eAAe,UAAY;AAAA,wBACxBN,EAAK,aAAaW,EAAQ;AAAA;AAAA,sBAE5BA,EAAQ;AAAA,qBACTA,EAAQ;AAAA,mDACsBA,EAAQ;AAAA,2BAChCA,EAAQ;AAAA;AAAA,cAGvBL,EAAS,WAAW,MAAM,QAAU,OACpCA,EAAS,eAAe,MAAM,QAAU,OACxCA,EAAS,YAAY,MAAM,QAAU,OACjD,CAAS,EACA,MAAMH,GAAS,CACZ,QAAQ,MAAM,yBAA0BA,CAAK,EAC7CG,EAAS,WAAW,MAAM,QAAU,OACpCA,EAAS,YAAY,MAAM,QAAU,OACrCE,EAAS,MAAM,CACX,MAAO,QACP,MAAO,QACP,QAAS,uDACzB,CAAa,EACDF,EAAS,cAAc,MAAM,QAAU,OACnD,CAAS,CACT"}